<div class="product__image-carousal" *ngIf="product && product.images?.length > 0; else carouseSkeleton">
  <ng-container *ngIf="product.count > 1">
    <div class="product__image-carousal__gallery">
      <div class="product__image-carousal__gallery-thumbnails">
        <div class="product__image-carousal__gallery-thumbnails__container">
          <ul #pag>
            <ng-container *ngFor="let i of product.images; let x = index">
              <li #item
                  [class.active]="activeProduct == product.images[x].original"
                  (click)="_activeProducts(product.images[x].original)">
                <link itemprop="image" [href]="sanitizer.bypassSecurityTrustResourceUrl(product.images[x].original)" />
                <img [src]="sanitizer.bypassSecurityTrustResourceUrl(product.images[x].thumbnail)" [alt]="product.title" />
              </li>
            </ng-container>
          </ul>
        </div>
        <div class="product__image-carousal__gallery-thumbnails__pagination">
          <i #left class="product__image-carousal__gallery-thumbnails__pagination-left fa fa-angle-left"></i>
          <i #right class="product__image-carousal__gallery-thumbnails__pagination-right fa fa-angle-right"></i>
        </div>
      </div>
      <div class="product__image-carousal__gallery__container">
        <div class="product__image-carousal__gallery__container-image">
          <img [src]="sanitizer.bypassSecurityTrustResourceUrl(activeProduct)" [alt]="product.title" />
        </div>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="product.count === 1">
      <div class="product__image-carousal__gallery__container">
        <div class="product__image-carousal__gallery__container-image">
          <link itemprop="image" [href]="sanitizer.bypassSecurityTrustResourceUrl(activeProduct)" />
          <img [src]="sanitizer.bypassSecurityTrustResourceUrl(activeProduct)" [alt]="product.title" />
        </div>
      </div>
  </ng-container>
</div>

<ng-template #carouseSkeleton>
  <div class="row skeleton-margin-bottom-40">
    <div class="col col-md-2">
      <div class="row">
        <div class="col col-md-7">
          <div class="skeleton-bar-40 skeleton-margin-bottom-20 skeleton-margin-top-20"></div>
        </div>
      </div>
      <div class="row">
        <div class="col col-md-7">
          <div class="skeleton-bar-40 skeleton-margin-bottom-20"></div>
        </div>
      </div>
      <div class="row">
        <div class="col col-md-7">
          <div class="skeleton-bar-40 skeleton-margin-bottom-20"></div>
        </div>
      </div>
      <div class="row">
        <div class="col col-md-7">
          <div class="skeleton-bar-40 skeleton-margin-bottom-20"></div>
        </div>
      </div>
      <div class="row">
        <div class="col col-md-7">
          <div class="skeleton-bar-40 skeleton-margin-bottom-20"></div>
        </div>
      </div>
      <div class="row">
        <div class="col col-md-7">
          <div class="skeleton-bar-40 skeleton-margin-bottom-20"></div>
        </div>
      </div>
    </div>
    <div class="col col-md-10">
      <div class="row">
        <div class="col col-md-6 col-md-offset-2">
          <div class="skeleton-bar-carousel"></div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
